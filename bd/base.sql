SET DB_CLOSE_DELAY -1;         
;              
CREATE USER IF NOT EXISTS SA SALT '782819c1c6aae3fc' HASH 'f850911ae7ab08dc18ddb24182f8eef5608304c27a27254045cfeedd1866a3c4' ADMIN;            
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_915A19D2_CA9C_407B_AA12_C6E5114472D9 START WITH 3 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_852B5840_AE12_48E8_AA9C_A15585C34204 START WITH 34 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_7CCDFC9D_27E9_4EA7_8C97_EC086FAE8CAF START WITH 6 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_54406B7A_DFAD_42D7_AE94_5AE5C0BB0F0C START WITH 1 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_158B8946_0ADA_4F8D_8F84_C96246D08648 START WITH 5 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_2E0F18E9_20C5_4D33_BB6D_C793877BE43E START WITH 15 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_E4226522_BF1B_437A_84F8_2DC89422F953 START WITH 29 BELONGS_TO_TABLE;    
CREATE MEMORY TABLE PUBLIC.CENTRE(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_158B8946_0ADA_4F8D_8F84_C96246D08648) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_158B8946_0ADA_4F8D_8F84_C96246D08648,
    ADRESSE VARCHAR(255),
    NB_ESSAIS INTEGER NOT NULL,
    NB_SUCCES INTEGER NOT NULL,
    NOM VARCHAR(255),
    VILLE VARCHAR(255)
);
ALTER TABLE PUBLIC.CENTRE ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(ID);  
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.CENTRE;   
INSERT INTO PUBLIC.CENTRE(ID, ADRESSE, NB_ESSAIS, NB_SUCCES, NOM, VILLE) VALUES
(1, '45 rue Dicaprio', 0, 0, 'Pitt', 'Nice'),
(2, '20 avenue Johnson', 10, 8, 'Dwayne', 'Toulouse'),
(3, '10 rue des troubadours', 2, 2, 'Mirage', 'Plaisir'),
(4, '1 rue du ballon rouge', 21, 15, 'Orangeade', 'Biarritz');  
CREATE MEMORY TABLE PUBLIC.ADMIN(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_54406B7A_DFAD_42D7_AE94_5AE5C0BB0F0C) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_54406B7A_DFAD_42D7_AE94_5AE5C0BB0F0C,
    OWNER_ID INTEGER
);   
ALTER TABLE PUBLIC.ADMIN ADD CONSTRAINT PUBLIC.CONSTRAINT_3 PRIMARY KEY(ID);   
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ADMIN;    
CREATE MEMORY TABLE PUBLIC.DONNEUR(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_E4226522_BF1B_437A_84F8_2DC89422F953) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_E4226522_BF1B_437A_84F8_2DC89422F953,
    AGE INTEGER NOT NULL,
    ANTECEDENTS INTEGER,
    ATTENTE BOOLEAN NOT NULL,
    CHEVEUX INTEGER,
    DISPONIBILITE BOOLEAN NOT NULL,
    LOISIRS INTEGER,
    NOM VARCHAR(255),
    PEAU INTEGER,
    POIDS INTEGER NOT NULL,
    PRENOM VARCHAR(255),
    SEXE BOOLEAN NOT NULL,
    SIGNALE BOOLEAN NOT NULL,
    TAILLE INTEGER NOT NULL,
    YEUX INTEGER,
    OWNER_ID INTEGER
);             
ALTER TABLE PUBLIC.DONNEUR ADD CONSTRAINT PUBLIC.CONSTRAINT_9 PRIMARY KEY(ID); 
-- 26 +/- SELECT COUNT(*) FROM PUBLIC.DONNEUR; 
INSERT INTO PUBLIC.DONNEUR(ID, AGE, ANTECEDENTS, ATTENTE, CHEVEUX, DISPONIBILITE, LOISIRS, NOM, PEAU, POIDS, PRENOM, SEXE, SIGNALE, TAILLE, YEUX, OWNER_ID) VALUES
(3, 43, 4, TRUE, 3, TRUE, 3, 'Gluck', 0, 82, 'Larry', FALSE, FALSE, 169, 1, NULL),
(2, 18, 1, FALSE, 1, TRUE, 1, 'Stark', 0, 50, 'Brandon', FALSE, FALSE, 100, 2, NULL),
(4, 31, 5, TRUE, 1, TRUE, 5, 'Taglia', 1, 65, 'Anna', TRUE, TRUE, 176, 3, NULL),
(5, 26, 6, TRUE, 0, TRUE, 7, 'Point', 3, 85, 'Elias', FALSE, FALSE, 192, 2, NULL),
(6, 24, 2, TRUE, 4, TRUE, 6, 'Rogeri', 0, 59, 'Roger', FALSE, TRUE, 156, 2, NULL),
(8, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, 2),
(9, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(10, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(11, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(12, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(13, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(14, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(15, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(16, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(17, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(18, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(19, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(20, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(21, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(22, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(23, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(24, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(25, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(26, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(27, 46, 1, TRUE, 1, TRUE, 1, 'Tully', 2, 68, 'Laura', TRUE, FALSE, 178, 3, NULL),
(28, 45, 0, TRUE, 0, FALSE, 1, 'Davio', 1, 556, 'Gontrande', FALSE, FALSE, 45, 4, 1);
CREATE MEMORY TABLE PUBLIC.MEDECIN(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_2E0F18E9_20C5_4D33_BB6D_C793877BE43E) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_2E0F18E9_20C5_4D33_BB6D_C793877BE43E,
    NOM VARCHAR(255),
    SEXE BOOLEAN NOT NULL,
    SPECIALISATION INTEGER,
    OWNER_ID INTEGER
);    
ALTER TABLE PUBLIC.MEDECIN ADD CONSTRAINT PUBLIC.CONSTRAINT_6 PRIMARY KEY(ID); 
-- 14 +/- SELECT COUNT(*) FROM PUBLIC.MEDECIN; 
INSERT INTO PUBLIC.MEDECIN(ID, NOM, SEXE, SPECIALISATION, OWNER_ID) VALUES
(1, 'Stark', FALSE, 0, 1),
(2, 'Bentle', FALSE, 2, 3),
(3, 'Sourire', FALSE, 0, 2),
(4, 'Pawlin', TRUE, 2, 2),
(5, 'Lannister', TRUE, 0, 3),
(6, 'Firmament', TRUE, 0, 4),
(7, 'Aurevoir', TRUE, 0, 1),
(8, 'Lucifer', FALSE, 0, 3),
(9, 'Cute', TRUE, 1, 4),
(10, 'Blanc', TRUE, 1, 1),
(11, 'Di', FALSE, 2, 4),
(12, 'Etoile', FALSE, 1, 3),
(13, 'Diverti', TRUE, 1, 1),
(14, 'Gyneco', TRUE, 1, 2);             
CREATE MEMORY TABLE PUBLIC.RECEVEUR(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_7CCDFC9D_27E9_4EA7_8C97_EC086FAE8CAF) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_7CCDFC9D_27E9_4EA7_8C97_EC086FAE8CAF,
    AGE INTEGER NOT NULL,
    NBECHECS INTEGER NOT NULL,
    NBSUCCES INTEGER NOT NULL,
    NOM VARCHAR(255),
    PRENOM VARCHAR(255),
    SEXE BOOLEAN NOT NULL,
    OWNER_ID INTEGER
);              
ALTER TABLE PUBLIC.RECEVEUR ADD CONSTRAINT PUBLIC.CONSTRAINT_F PRIMARY KEY(ID);
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.RECEVEUR; 
INSERT INTO PUBLIC.RECEVEUR(ID, AGE, NBECHECS, NBSUCCES, NOM, PRENOM, SEXE, OWNER_ID) VALUES
(1, 84, 0, 0, 'Bardot', 'Brigitte', TRUE, NULL),
(2, 38, 0, 1, 'Da', 'Dali', TRUE, NULL),
(3, 19, 0, 0, 'Cari', 'Delphine', TRUE, NULL),
(4, 24, 0, 0, 'Aro', 'Lili', TRUE, NULL),
(5, 19, 0, 0, 'Renatta', 'Julia', TRUE, NULL); 
CREATE MEMORY TABLE PUBLIC.UTILISATEUR(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_852B5840_AE12_48E8_AA9C_A15585C34204) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_852B5840_AE12_48E8_AA9C_A15585C34204,
    IDPROFILASSOCIE INTEGER NOT NULL,
    ISRECEVEUR BOOLEAN NOT NULL,
    MAIL VARCHAR(255),
    MDP VARCHAR(255)
);               
ALTER TABLE PUBLIC.UTILISATEUR ADD CONSTRAINT PUBLIC.CONSTRAINT_5 PRIMARY KEY(ID);             
-- 32 +/- SELECT COUNT(*) FROM PUBLIC.UTILISATEUR;             
INSERT INTO PUBLIC.UTILISATEUR(ID, IDPROFILASSOCIE, ISRECEVEUR, MAIL, MDP) VALUES
(1, 1, TRUE, 'mail1', '1994'),
(3, 2, FALSE, 'mail3', '00000'),
(4, 3, FALSE, 'maiiil', '1234'),
(5, 4, FALSE, 'maillll', 'mdp54'),
(6, 2, TRUE, 'dalida', 'dalida'),
(7, 5, FALSE, 'maill2', 'mdp5'),
(8, 3, TRUE, 'delphi', 'so'),
(9, 6, FALSE, 'roger', 'roger'),
(10, 7, FALSE, 'noel.marchand', 'nono'),
(11, 4, TRUE, 'lil.aro', 'lil'),
(12, 5, TRUE, 'mail', 'mdp'),
(13, 8, FALSE, 'laura.tully', 'mdp'),
(14, 9, FALSE, 'laura.tully', 'mdp'),
(15, 10, FALSE, 'laura.tully', 'mdp'),
(16, 11, FALSE, 'laura.tully', 'mdp'),
(17, 12, FALSE, 'laura.tully', 'mdp'),
(18, 13, FALSE, 'laura.tully', 'mdp'),
(19, 14, FALSE, 'laura.tully', 'mdp'),
(20, 15, FALSE, 'laura.tully', 'mdp'),
(21, 16, FALSE, 'laura.tully', 'mdp'),
(22, 17, FALSE, 'laura.tully', 'mdp'),
(23, 18, FALSE, 'laura.tully', 'mdp'),
(24, 19, FALSE, 'laura.tully', 'mdp'),
(25, 20, FALSE, 'laura.tully', 'mdp'),
(26, 21, FALSE, 'laura.tully', 'mdp'),
(27, 22, FALSE, 'laura.tully', 'mdp'),
(28, 23, FALSE, 'laura.tully', 'mdp'),
(29, 24, FALSE, 'laura.tully', 'mdp'),
(30, 25, FALSE, 'laura.tully', 'mdp'),
(31, 26, FALSE, 'laura.tully', 'mdp'),
(32, 27, FALSE, 'laura.tully', 'mdp'),
(33, 28, FALSE, 'g.dav', 'mot');     
CREATE MEMORY TABLE PUBLIC.RDV(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_915A19D2_CA9C_407B_AA12_C6E5114472D9) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_915A19D2_CA9C_407B_AA12_C6E5114472D9,
    HEURE INTEGER NOT NULL,
    JOUR INTEGER NOT NULL,
    MOIS INTEGER NOT NULL,
    DONNEUR_ID INTEGER,
    MEDECIN_ID INTEGER,
    RECEVEUR_ID INTEGER,
    OWNER_ID INTEGER
);          
ALTER TABLE PUBLIC.RDV ADD CONSTRAINT PUBLIC.CONSTRAINT_1 PRIMARY KEY(ID);     
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.RDV;      
INSERT INTO PUBLIC.RDV(ID, HEURE, JOUR, MOIS, DONNEUR_ID, MEDECIN_ID, RECEVEUR_ID, OWNER_ID) VALUES
(1, 11, 4, 5, 8, 4, NULL, NULL),
(2, 12, 1, 4, 28, 13, NULL, NULL);        
ALTER TABLE PUBLIC.RDV ADD CONSTRAINT PUBLIC.FKPCFVLYV97JF3TIWGBSQ2B71MR FOREIGN KEY(DONNEUR_ID) REFERENCES PUBLIC.DONNEUR(ID) NOCHECK;        
ALTER TABLE PUBLIC.ADMIN ADD CONSTRAINT PUBLIC.FKDDBE0FI307R6B1H7JCT7C3GLM FOREIGN KEY(OWNER_ID) REFERENCES PUBLIC.CENTRE(ID) NOCHECK;         
ALTER TABLE PUBLIC.RECEVEUR ADD CONSTRAINT PUBLIC.FKGWPFVR3GN4RN7NAO16R8ERQIP FOREIGN KEY(OWNER_ID) REFERENCES PUBLIC.CENTRE(ID) NOCHECK;      
ALTER TABLE PUBLIC.RDV ADD CONSTRAINT PUBLIC.FKSJVIYMT7HVM6QQBR0P1HXL0T4 FOREIGN KEY(MEDECIN_ID) REFERENCES PUBLIC.MEDECIN(ID) NOCHECK;        
ALTER TABLE PUBLIC.RDV ADD CONSTRAINT PUBLIC.FK7YIGSOAFSX9QJ8MMO61JIPPV2 FOREIGN KEY(OWNER_ID) REFERENCES PUBLIC.CENTRE(ID) NOCHECK;           
ALTER TABLE PUBLIC.RDV ADD CONSTRAINT PUBLIC.FK7SRVA58KEO77LWXIAEME066W9 FOREIGN KEY(RECEVEUR_ID) REFERENCES PUBLIC.RECEVEUR(ID) NOCHECK;      
ALTER TABLE PUBLIC.DONNEUR ADD CONSTRAINT PUBLIC.FKJ8QTRC1588GU5L4KUXRK4EFB3 FOREIGN KEY(OWNER_ID) REFERENCES PUBLIC.CENTRE(ID) NOCHECK;       
ALTER TABLE PUBLIC.MEDECIN ADD CONSTRAINT PUBLIC.FK30SJW8WA1WKDAW1QTS0PNOFW4 FOREIGN KEY(OWNER_ID) REFERENCES PUBLIC.CENTRE(ID) NOCHECK;       
